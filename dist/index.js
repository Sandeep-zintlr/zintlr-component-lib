'use strict';var H=require('react'),sonner=require('sonner'),xlsx=require('xlsx'),g=require('moment'),router=require('next/router'),re=require('axios'),ie=require('yup'),N=require('jsonwebtoken');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var H__default=/*#__PURE__*/_interopDefault(H);var g__default=/*#__PURE__*/_interopDefault(g);var re__default=/*#__PURE__*/_interopDefault(re);var ie__namespace=/*#__PURE__*/_interopNamespace(ie);var N__namespace=/*#__PURE__*/_interopNamespace(N);var ce=({position:e="bottom-right",expand:t=false,richColors:o=true,closeButton:r=true,...n})=>H__default.default.createElement(sonner.Toaster,{position:e,expand:t,richColors:o,closeButton:r,...n});var le=({children:e,className:t="",id:o=""})=>H__default.default.createElement("div",{id:o,className:"border w-full h-fit bg-white rounded-lg"},H__default.default.createElement("div",{className:`p-3 sm:p-7 mb-2 ${t}`},e));function fe(e){let t={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png",AAAA:"video/mp4","/":"image/jpg",i:"image/png",R:"image/gif",U:"image/webp",J:"application/pdf",A:"video/mp4",UEsDBBQA:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"};for(let o in t){let r=e.indexOf(o);if(r===0||r===1)return t[o]}}var me=e=>"data:"+fe(e)+";base64,"+e;var ue=e=>e.charAt(0).toUpperCase()+e.slice(1);var pe=e=>{let t;return Array.isArray(e)?(e&&(t=e==null?void 0:e.filter(o=>o)),t):[]};var W=[{key:"no_contact_lists",label:"No Contact Lists"},{key:"download_export",label:"Download & Export"},{key:"tags_types",label:"Tags & Types"},{key:"credit",label:"Credits"},{key:"magic_search",label:"Domain Search"},{key:"personality_intel",label:"Personality Intel"},{key:"zbizlocator",label:"Local Search"}],ge=(e,t)=>{let o=t.filter(({isNonEditable:n,name:s})=>!n&&s!=="Unallocated credits").reduce((n,{limits:s})=>(W.forEach(({key:c})=>{let p=Number(s[c])||0;n[c]=(n[c]||0)+p;}),n),{}),r=W.filter(({key:n})=>(o[n]||0)>100);if(r.length){let n=r.map(({key:s,label:c})=>`${c} (${o[s]}%)`);return sonner.toast.error(`The following limits exceed 100%: ${n.join(", ")}.`),false}return  true};var u=()=>typeof window<"u";var xe=()=>{if(u()){var e=document.getElementsByClassName("cc-157aw cc-1kgzy");e&&e.length>0&&e[0].click();}};var he=(e,t)=>{if(!e||!t||Object.keys(e).length===0||Object.keys(t).length===0)return [];let o=e.team_limits||[],r=e.invite_limits||[],n=[...o.map(s=>({...s,isInvited:false})),...r.map(s=>({...s,isInvited:true}))];return n.push({...t,name:"Unallocated credits",isNonEditable:true}),n},ye=e=>{let t={},o={};return Object.entries(e).forEach(([r,n])=>{n.isInvited?(o[n.email]={...n},delete o[n.email].isInvited,delete o[n.email].email):(t[r]={...n},delete t[r].isInvited);}),{credit_limits:{team_limits:t,invite_limits:o}}};function _e(e,t="Email"){if(!u())return  false;try{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e),sonner.toast.success(`${t} copied to clipboard`),!0;let o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select();let r=document.execCommand("copy");return o.remove(),r?(sonner.toast.success(`${t} copied to clipboard`),!0):(sonner.toast.error("Failed to copy to clipboard"),!1)}catch{return sonner.toast.error("Failed to copy to clipboard"),false}}function Ce(){let e=navigator.userAgent,t;return e.match(/chrome|chromium|crios/i)?t="chrome":e.match(/firefox|fxios/i)?t="firefox":e.match(/safari/i)?t="safari":e.match(/opr\//i)?t="opera":e.match(/edg/i)?t="edge":t="No browser detection",t}var we=`
<g clip-path="url(#0cf21cfe8e)" transform="translate(5, 20) scale(0.5)">
<path fill="#ffffff" d="M 238.238281 215.71875 C 255.039062 215.71875 270.484375 215.71875 285.882812 215.570312 C 286.886719 215.328125 287.800781 214.894531 288.625 214.265625 C 289.445312 213.636719 290.101562 212.863281 290.59375 211.953125 C 299.421875 196.890625 308.148438 181.828125 316.625 166.765625 C 317.03125 165.753906 317.234375 164.703125 317.234375 163.613281 C 317.234375 162.523438 317.03125 161.472656 316.625 160.464844 C 315.144531 157.265625 313.421875 154.203125 311.457031 151.273438 C 310.230469 153.007812 309.175781 154.238281 308.375 155.617188 C 300.523438 169.425781 292.5 183.234375 284.980469 197.140625 C 282.472656 201.761719 279.585938 203.820312 274.347656 203.191406 C 270.242188 202.960938 266.140625 202.960938 262.035156 203.191406 C 278.382812 174.09375 294.382812 145.828125 310.957031 116.703125 C 319.984375 132.296875 328.507812 146.832031 336.757812 161.59375 C 337.011719 162.59375 337.054688 163.601562 336.882812 164.621094 C 336.714844 165.640625 336.347656 166.578125 335.78125 167.441406 C 324.261719 187.675781 312.621094 207.84375 300.851562 227.945312 C 300.253906 229.003906 299.464844 229.890625 298.484375 230.609375 C 297.503906 231.328125 296.421875 231.8125 295.234375 232.0625 C 266.898438 232.339844 238.566406 232.265625 208.976562 232.265625 C 213.664062 224.003906 217.828125 216.523438 222.117188 209.117188 C 241.046875 176.304688 259.804688 143.316406 279.136719 110.855469 C 282.773438 104.730469 283.425781 100.109375 278.910156 94.738281 C 277.597656 92.972656 276.402344 91.132812 275.324219 89.214844 L 183.777344 248.082031 L 289.265625 248.082031 C 283.675781 257.769531 278.785156 266.558594 273.644531 275.269531 C 269.910156 281.644531 267.402344 290.332031 261.808594 293.546875 C 256.21875 296.757812 247.441406 294.652344 240.070312 294.675781 L 101.679688 294.675781 C 148.996094 212.730469 195.710938 131.792969 243.027344 49.773438 L 131.972656 49.773438 C 120.035156 49.773438 120.035156 49.773438 115.171875 61.75 L 219.960938 61.75 L 98.722656 272.15625 C 89.71875 256.515625 81.167969 242.03125 72.96875 227.09375 C 72.609375 225.941406 72.496094 224.765625 72.636719 223.566406 C 72.777344 222.367188 73.15625 221.25 73.773438 220.214844 C 93.011719 186.574219 112.347656 153 131.769531 119.492188 C 133.125 117.132812 134.277344 114.695312 136.109375 111.507812 C 119.632812 111.507812 104.214844 111.507812 88.792969 111.632812 C 87.761719 111.773438 86.804688 112.121094 85.929688 112.683594 C 85.050781 113.246094 84.335938 113.96875 83.777344 114.847656 C 74.851562 130.011719 66.058594 145.273438 57.398438 160.640625 C 57.019531 161.558594 56.828125 162.519531 56.828125 163.511719 C 56.828125 164.507812 57.019531 165.46875 57.398438 166.386719 C 59.101562 169.855469 61.015625 173.203125 63.140625 176.429688 C 66 171.410156 68.480469 167.390625 70.863281 163.175781 C 77.234375 152.027344 83.800781 140.980469 89.769531 129.609375 C 89.945312 129.164062 90.15625 128.738281 90.40625 128.328125 C 90.65625 127.917969 90.9375 127.535156 91.25 127.175781 C 91.566406 126.816406 91.910156 126.484375 92.28125 126.183594 C 92.652344 125.882812 93.046875 125.617188 93.464844 125.382812 C 93.882812 125.148438 94.316406 124.953125 94.765625 124.796875 C 95.21875 124.636719 95.679688 124.519531 96.152344 124.441406 C 96.621094 124.363281 97.097656 124.324219 97.574219 124.328125 C 98.054688 124.332031 98.527344 124.378906 98.996094 124.460938 C 103.035156 124.789062 107.121094 124.460938 112.210938 124.460938 C 95.613281 153.359375 79.742188 181.527344 63.242188 210.597656 C 55.71875 197.441406 48.972656 184.816406 41.226562 172.941406 C 36.8125 166.210938 36.886719 161.34375 41.226562 154.464844 C 52.332031 136.539062 62.539062 118.035156 73.046875 99.660156 C 73.40625 98.839844 73.882812 98.101562 74.476562 97.433594 C 75.070312 96.765625 75.75 96.207031 76.519531 95.757812 C 77.292969 95.308594 78.113281 94.984375 78.984375 94.792969 C 79.855469 94.601562 80.734375 94.550781 81.621094 94.636719 C 109.054688 94.886719 136.511719 94.761719 165.296875 94.761719 C 163.617188 97.953125 162.4375 100.363281 161.109375 102.671875 C 139.792969 139.625 118.882812 176.832031 96.890625 213.359375 C 91.148438 222.875 91.199219 229.726562 99.398438 237.613281 C 129.464844 185.015625 159.703125 132.519531 190.496094 79.070312 L 85.582031 79.070312 C 86.636719 76.761719 87.210938 75.230469 88.089844 73.824219 C 95.210938 61.273438 102.28125 48.84375 109.703125 36.542969 C 110.363281 35.5625 111.191406 34.761719 112.191406 34.140625 C 113.195312 33.519531 114.277344 33.132812 115.445312 32.980469 C 166.902344 32.792969 218.355469 32.753906 269.808594 32.851562 C 270.554688 32.957031 271.289062 33.109375 272.015625 33.304688 C 225.101562 114.671875 178.359375 195.710938 130.96875 277.753906 L 242.527344 277.753906 C 254.238281 277.753906 254.636719 277.453125 259.078125 265.203125 L 154.4375 265.203125 L 275.148438 55.625 C 276.265625 57.027344 277.3125 58.484375 278.285156 59.992188 C 285.605469 72.542969 292.753906 85.324219 300.273438 97.824219 C 300.796875 98.542969 301.195312 99.320312 301.472656 100.164062 C 301.746094 101.007812 301.882812 101.871094 301.882812 102.757812 C 301.882812 103.644531 301.746094 104.511719 301.472656 105.355469 C 301.195312 106.195312 300.796875 106.976562 300.273438 107.691406 C 280.566406 141.484375 260.972656 175.402344 241.5 209.445312 C 240.546875 211.101562 239.742188 212.808594 238.238281 215.71875 Z M 238.238281 215.71875 " fill-opacity="1" fill-rule="nonzero" />
</g>`,J=(e,t=null)=>{let r=document.createElementNS("http://www.w3.org/2000/svg","svg");if(r.setAttributeNS(null,"width","200"),r.setAttributeNS(null,"height","200"),r.setAttributeNS(null,"fill","none"),r.setAttribute("style",`${t?`background:${t==null?void 0:t.bgColor}`:"background-image: linear-gradient(180deg, #112634 0%, #000000 100%)"};
		background-repeat:no-repeat !important;
		display: flex;
		align-items:center;`),e){let n="50%";u()&&Ce()==="firefox"&&(n="55%"),r.innerHTML=`
			<text x="50%" y=${n} fill="${(t==null?void 0:t.textColor)??"white"}" style="font-weight: 700; text-transform: uppercase; font-family: 'Roboto', sans-serif;"
			dominant-baseline="middle"  text-anchor="middle" alignment-baseline="central" font-size="90">
				${e}
			</text>
		`;}else r.innerHTML=we;return r},be=e=>{let t,o=/^[A-Za-z0-9 ]*$/;if(e=e?e.replace(/[^a-zA-Z0-9 ]/g,""):"",o.test(e)){let n=e.trim().toUpperCase().split(" ");n=n.map(s=>s.trim()),t=n[0].charAt(0)+""+(n.length>1?n[n.length-1].charAt(0):""),t=String(t).toUpperCase();}return t},ve=(e,t=null)=>{let o=be(e);return o?J(o,t):J()},ke=(e,t=null)=>{try{if(typeof window>"u"||!window.btoa||!window.XMLSerializer)return console.warn("createImg requires browser environment with btoa and XMLSerializer support"),"";if(e&&u()){let n=ve(e,t);var o=new XMLSerializer().serializeToString(n),r=window.btoa(o);return "data:image/svg+xml;base64,"+r}}catch(n){console.warn("Error creating image:",n);}return ""};var De=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e));var Ie=(e,t)=>{let o=t.map(s=>Object.values(s));o.unshift(Object.keys(t[0]));let r=o.join(`\r
`),n=document.createElement("a");n.href="data:attachment/csv,"+encodeURIComponent(r),n.target="_blank",n.download=e,n.click(),sonner.toast.success("Downloaded file successfully");};var Ee=(e,t)=>{if(Object.keys(t).length===0)return;let o=xlsx.utils.book_new();Object.keys(t).map((n,s)=>{let c=n.length>31?n.slice(0,28)+`_${s}`:n,p=xlsx.utils.json_to_sheet(t[n]);xlsx.utils.book_append_sheet(o,p,c);});let r=e.trim().replace(".xlsx","")+".xlsx";xlsx.writeFile(o,r),sonner.toast.success("Downloaded file successfully");};var Se={credit:"Lookup/Ids",magic_search:"Domain search",personality_intel:"Personality",zbizlocator:"Local search"},Pe=e=>e?Object.entries(e).map(([t,o])=>({name:Se[t]||t,...o})):[];var $e=e=>[e==null?void 0:e.city,e==null?void 0:e.state,e==null?void 0:e.country].filter(o=>o).join(", ");var Oe=e=>[g__default.default.duration(e,"days").years()&&`${g__default.default.duration(e,"days").years()} year${g__default.default.duration(e,"days").years()>1?"s":""}`,g__default.default.duration(e,"days").months()&&`${g__default.default.duration(e,"days").months()} month${g__default.default.duration(e,"days").months()>1?"s":""}`,(g__default.default.duration(e,"days").days()>0||g__default.default.duration(e,"days").years()===0&&g__default.default.duration(e,"days").months()===0)&&`${g__default.default.duration(e,"days").days()} day${g__default.default.duration(e,"days").days()>1?"s":""}`].filter(Boolean).join(" ").trim();var Ue=e=>e?new URL(e).hostname:"";var U=e=>new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"});var ze=e=>e?e.substr(0,4)!=="http"?"https://"+e:e:"";var Ve=e=>{var o,r,n;if(!Array.isArray(e))return [];let t=[];if((o=e[0])!=null&&o.invitation){let s=(r=e[0])==null?void 0:r.invitation;t.push({user_data:{email:s.send_to_email_id},role:s.role,invitation_status:s.invitation_status,create_datetime:s.invitation_status===2?s.create_datetime:null,team_invitations_id:s.team_invitations_id});}return (n=e[0])!=null&&n.invitation?t:e.map(s=>({user_data:{email:s.send_to_email_id},role:s.role,invitation_status:s.invitation_status,create_datetime:s.invitation_status===2?s.create_datetime:null,team_invitations_id:s.team_invitations_id}))};var Re=e=>U(g__default.default(e).add(1,"days").toISOString());var Te=(e,t=new Date)=>{let o=g__default.default(t);return g__default.default(e).diff(o,"days")};var Be=e=>{let t=document.cookie.split("; ");for(let o=0;o<t.length;o++){let r=t[o].split("=");if(r[0]===e)return r[1]}return ""};var Q=e=>!e.unlocked,X=e=>e.unlocked,Me=(e=[],t=true)=>e.filter(o=>t?X(o):Q(o));var Je=(e,t=()=>{})=>{if(e){let o=new FileReader;o.readAsBinaryString?(o.onload=function(r){t(Z(r.target.result));},o.readAsBinaryString(e)):(o.onload=function(r){var n="",s=new Uint8Array(r.target.result);for(let c=0;c<s.byteLength;c++)n+=String.fromCharCode(s[c]);t(Z(n));},o.readAsArrayBuffer(e));}};function Z(e){let t=xlsx.read(e,{type:"binary"}),o=t.SheetNames[0];return xlsx.utils.sheet_to_row_object_array(t.Sheets[o])}var Ge=e=>{var o,r;let t=e;return t.includes("linkedin.com/in/")&&(t="https://linkedin.com/in/"+((o=t.replace(/(https?:\/\/(www.|de.)?linkedin.com\/(mwlite\/|m\/)?in\/\/?)/g,"").split("/"))==null?void 0:o[0])),t.includes("linkedin.com/company/")&&(t="https://linkedin.com/company/"+((r=t.replace(/(https?:\/\/(www.|de.)?linkedin.com\/(mwlite\/|m\/)?company\/\/?)/g,"").split("/"))==null?void 0:r[0])),t};var K={behavior:"smooth",block:"start",inline:"nearest"},Qe=e=>{let t=setInterval(()=>{let o=document.getElementById(e);o&&(clearInterval(t),o.scrollIntoView(K));},200);},Xe=e=>{u()&&(e.preventDefault(),document.querySelector(e.target.getAttribute("href")).scrollIntoView(K));};var z=(e,t)=>!e||!t?false:!!(e!=null&&e.trim().toLowerCase().includes(t==null?void 0:t.trim().toLowerCase())),Ze=(e=[],t)=>e.some(o=>typeof o=="object"?Object.values(o).some(r=>z(r,t)):z(o,t)),V=(e,t,o)=>{if(!e)return  false;let r=e.split("."),n;if(typeof t=="object"&&t[e]?n=t[e]:n=typeof t=="object"&&!Array.isArray(t)?t[r[0]]:t,!n)return  false;let s=false;if(Array.isArray(n))s=Ze(n,o);else if(typeof n=="object")if(r.length>1){let c=0,p,_={...t};for(;c<r.length-1;c++)p=r[c],_=_[p];if(n=_[r[c]],V("",n,o))return  true}else s=Object.values(n).some(c=>V("",c,o));else n+="",s=z(n,o);return s};var Ke=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");var Fe=(e,t,o="s")=>t+(e>1?o:"");var et=e=>{let[t,o]=H.useState(false);return H.useEffect(()=>{let r=new IntersectionObserver(([n])=>{t||o(n.isIntersecting);});return e.current&&!t?r.observe(e.current):r.unobserve(e.current),()=>{r.disconnect();}},[t,e]),t};var rt=()=>{let{query:e}=router.useRouter();return H.useMemo(()=>e,[e])};var F=H.createContext({details:void 0,isLoggedIn:void 0,bannerData:void 0}),st=()=>H.useContext(F);var ft=()=>{let[e,t]=H.useState({width:void 0,height:void 0}),o=H.useCallback(()=>{t({width:window.innerWidth,height:window.innerHeight});},[t]);return H.useEffect(()=>{if(u)return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)},[o]),e};var Y=e=>{var t;return (t=e==null?void 0:e.phone)!=null&&t.length?typeof e.phone[0]=="string"?[["",e.phone]]:Object.entries(e.phone.reduce((o,{subtype:r="",ph:n})=>(n&&(o[r]||(o[r]=[]),o[r].push(n)),o),{})):[]},q=e=>e==null?void 0:e.map(t=>({address:t})),mt=(e,t)=>{var o;return {name:(e==null?void 0:e.person_name)||(e==null?void 0:e.full_name),phone:Y((e==null?void 0:e.person_phs)||(e==null?void 0:e.phone)),emails:q(e==null?void 0:e.person_emails)||(e==null?void 0:e.emails),_id:(e==null?void 0:e.person_din)||(e==null?void 0:e._id),info:{flags:e==null?void 0:e.person_flags,credits:(e==null?void 0:e.email_credits)+(e==null?void 0:e.phone_credits),email_credits:e==null?void 0:e.email_credits,phone_credits:e==null?void 0:e.phone_credits},linkedin_url:(o=e==null?void 0:e.social_urls)==null?void 0:o.linkedin_url,from:t,isEmailUnlocked:e==null?void 0:e.email_unlocked,isPhoneUnlocked:e==null?void 0:e.phone_unlocked}};function j(e,t){try{return N__namespace.verify(e,t)}catch{return null}}function D(e){var r;let t=e.ip??(e==null?void 0:e["x-real-ip"]),o=e==null?void 0:e["x-forwarded-for"];if(process.env.CLOUDFLARE_ENABLED==="true"&&(o=e==null?void 0:e["cf-connecting-ip"]),o)try{Array.isArray(o)?t=o==null?void 0:o[0]:t=(r=o.split(","))==null?void 0:r[0];}catch{t="Unknown";}return t||(t="Unknown"),t}var b={},A=false,ut="api-handlers/validators.js";async function pt(e){try{let t=[e,`../${e}`,`../../${e}`,`./${e}`,`src/${e}`,`lib/${e}`];for(let o of t)try{let r=await import(o);if(r.default&&typeof r.default=="object")return console.log(`\u2705 Validators loaded from: ${o}`),r.default}catch{continue}return console.warn("\u274C No validators found in any of the attempted paths"),{}}catch(t){return console.warn("Failed to load validators:",t.message),{}}}async function ee(e={}){let{validatorPath:t=ut}=e;if(A)return b;try{let o=await pt(t);return o&&Object.keys(o).length>0?(b=o,A=!0,console.log(`\u2705 Successfully loaded ${Object.keys(b).length} validators`),b):(console.warn("\u274C No validators found in the specified file"),A=!0,{})}catch(o){return console.warn("Auto-detection of validators failed:",o.message),A=true,{}}}function E(e){return b[e]||null}function dt(){return b}function R(){return A}var T=null,I=false,te="constants/endpoints.js";async function gt(e){try{let t=[e,`constants/${e}`,`../constants/${e}`,`../../constants/${e}`];for(let o of t)try{let r=await import(o);if(r.API_URL)return console.log(`\u2705 Domain loaded from: ${o}`),r.API_URL;if(r.default&&r.default.API_URL)return console.log(`\u2705 Domain loaded from default export: ${o}`),r.default.API_URL;if(typeof r=="string"&&r.includes("http"))return console.log(`\u2705 Domain loaded directly: ${o}`),r}catch{continue}return console.warn("\u274C No domain found in any of the attempted paths"),null}catch(t){return console.warn("Failed to load domain:",t.message),null}}async function oe(e={}){let{endpointsPath:t=te}=e;if(I)return T;try{let o=await gt(t);return o?(T=o,I=!0,console.log(`\u2705 Successfully detected domain: ${o}`),o):(console.warn("\u274C No domain found in the specified file"),I=!0,null)}catch(o){return console.warn("Auto-detection of domain failed:",o.message),I=true,null}}var xt=()=>T,ht=()=>I,yt=e=>{te=e;};var v={message:"",success:false,code:400,data:{}};function _t(e){return ["post","put","delete"].includes(e)}var ne=-100;function Ct({method:e="post",endpoint:t="",data:o={},successToast:r=false,errorToast:n=true,headers:s={},controller:c=null,forceValidationSchema:p=null,domain:_,logFn:l=console.log,autoDetectValidators:S=true,autoDetectDomain:P=true}){return new Promise(($,x)=>{let f={...v};if(!_t(e)){f.message="Method is not allowed",x(f);return}l==null||l("Request:",{method:e,endpoint:t,data:o});let m=_;if(!m&&P&&!m){oe().then(d=>{if(m=d,!m){f.message="Domain is required",x(f);return}y();}).catch(d=>{l==null||l("Auto-detection of domain failed:",d.message),f.message="Domain is required",x(f);});return}if(!m){f.message="Domain is required",x(f);return}y();async function y(){if(S)try{R()||await ee();let i=p?E(p):E(t);i&&await ie__namespace.object().shape(i).validate(o,{abortEarly:!1});}catch(i){f.message=i.errors.join(", "),sonner.toast.error(f.message),x(f);return}s&&Object.keys(s).length>0&&(o["browser-ip-address"]=D(s));let d={method:e,url:m+"/api/"+t,data:e!=="get"?o:{},responseType:"json",headers:s,withCredentials:true,crossDomain:true};l==null||l("Request object:",d),c&&c instanceof AbortController&&(d.signal=c.signal),re__default.default.request(d).then(i=>{let a=i.data;a.success?(r&&sonner.toast.success(a.message),$(a)):(n&&sonner.toast.error(a.message),x(a));}).catch(i=>{var C,h,k,B,M;let a={};i&&((C=i==null?void 0:i.response)==null?void 0:C.status)===0&&(i!=null&&i.message)?(f.message=i.message,a=f):i&&((k=(h=i==null?void 0:i.response)==null?void 0:h.data)==null?void 0:k.success)===false&&((M=(B=i==null?void 0:i.response)==null?void 0:B.data)!=null&&M.message)?a=i.response.data:re__default.default.isCancel(i)?(f.code=ne,f.message="Cancelled",a=f):(l&&(l("Request error:",i),l("Request error:",d)),f.message="Something went wrong on our side. Please try again. Sorry for the inconvenience",a=f),c&&c instanceof AbortController&&c.signal.aborted&&(a.code=ne),(!c||c&&c instanceof AbortController&&!c.signal.aborted)&&(l&&l("Error details:",a.message),n&&sonner.toast.error(a.message)),x(a);});}})}function bt(e){let t={};return e&&e.split(";").forEach(o=>{let[r,n]=o.trim().split("=");r&&n&&(t[r]=decodeURIComponent(n));}),t}function vt({method:e="get",endpoint:t="",data:o={},req:r=null,res:n=null,isAuthRequired:s=false,successCallback:c=()=>{},errorCallback:p=()=>{},isSourceRequired:_=false,logFn:l=console.log,apiUrl:S,captchaToken:P,platformSource:$,cipher:x}){if(!r||!n)return;o={...r.body,...o,..._&&{source:$}};let f={};f["Captcha-Token"]=P;let m={method:e,url:S+t,headers:f},y=bt(r.headers.cookie);if(s){let i=r.headers.cookie;if(i&&(i=y.key&&y.access_token),!i){let h={...v};h.message="Log in first",h.code=400,n.status(h.code).json(h);return}let a=j(y.key,x),C=j(y.access_token,x);m.headers.Authorization=C,o.key=a;}if(y){let i=y["visitor-id"]||null;i&&(m.headers["visitor-id"]=i);}let d=o["browser-ip-address"]||D(r.headers);return o["browser-ip-address"]&&delete o["browser-ip-address"],m.headers["client-ip-address"]=d,o.ip_address=d,m={...m,params:e==="get"?o:{},data:e!=="get"?o:{},responseType:"json"},l&&l(m),re__default.default.request(m).then(i=>{var a;(a=i==null?void 0:i.data)!=null&&a.success?(e==="get"&&n.setHeader("Cache-Control","public, s-maxage=59, stale-while-revalidate=59"),c(i.data),n.status(200).send(JSON.stringify(i.data))):n.status(400).json(i.data);}).catch(i=>{var C,h,k;let a=((C=i==null?void 0:i.response)==null?void 0:C.data)||{...v};l&&(l("================================================"),l(i),l("================================================")),i&&((h=i==null?void 0:i.response)==null?void 0:h.status)===0&&(i!=null&&i.message)&&(a={...v},a.message=i.message,a.code=500),i&&((k=i==null?void 0:i.response)==null?void 0:k.status)===502&&(a={...v},a.message="Server is down.",a.code=500),p(a),n.status((a==null?void 0:a.code)===500?500:400).json(a);})}
Object.defineProperty(exports,"toast",{enumerable:true,get:function(){return sonner.toast}});exports.ProfileWrapperCard=le;exports.ToastWrapper=ce;exports.UserContext=F;exports.capitalizeFirstLetter=ue;exports.changeEmailFormat=pe;exports.checkCreditSumLimits=ge;exports.checkIfProfileLocked=Q;exports.checkIfProfileUnLocked=X;exports.click_chat_fun=xe;exports.combineTeamAndInviteData=he;exports.copy_to_clipboard=_e;exports.createImg=ke;exports.deepClone=De;exports.downloadCSV=Ie;exports.downloadExcel=Ee;exports.formatContactDetails=mt;exports.formatCreditLimits=Pe;exports.formatEmails=q;exports.formatPhoneNumbers=Y;exports.formatTeamData=Ve;exports.fromBase64ToFile=me;exports.getCookieValue=Be;exports.getDetectedDomain=xt;exports.getIP=D;exports.getLockedUnlockProfiles=Me;exports.getValidatorForEndpoint=E;exports.getValidators=dt;exports.get_combined_location=$e;exports.get_days_to_month_years=Oe;exports.get_domain_name=Ue;exports.get_formated_date=U;exports.get_formated_url=ze;exports.get_next_billing_date=Re;exports.get_remaining_days=Te;exports.isBrowser=u;exports.isDomainDetected=ht;exports.isValidatorsInitialized=R;exports.readExcelCSV=Je;exports.refactor_ln_urls=Ge;exports.request_caller=Ct;exports.restructureData=ye;exports.scrollTo=Xe;exports.scrollToById=Qe;exports.serverRequestHandler=vt;exports.setEndpointsPath=yt;exports.table_filter_rows=V;exports.underscoresNormalText=Ke;exports.updatePlural=Fe;exports.useOnScreen=et;exports.useQuery=rt;exports.useUser=st;exports.useWindowSize=ft;exports.verify_and_decrypt_jwt=j;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map